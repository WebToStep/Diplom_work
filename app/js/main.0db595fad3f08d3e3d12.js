(()=>{"use strict";class t{constructor({main:t,wrap:e,next:n,prev:i,infinity:s=!1,position:o=0,slidesToShow:r=4,responsive:l=[]}){this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.slides=document.querySelector(e).children,this.next=document.querySelector(n),this.prev=document.querySelector(i),this.slidesToShow=r,this.options={position:o,withSlide:Math.floor(100/this.slidesToShow),infinity:s,maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider"),this.wrap.classList.add("glo-slider__wrap");for(const t of this.slides)t.classList.add("glo-slider__item")}addStyle(){let t=document.getElementById("sliderCarusel-style");t||(t=document.createElement("style"),t.id="sliderCarusel-style"),t.textContent=`\n           .glo-slider {\n            display: flex !important;\n            position: relative !important; \n            overflow: hidden !important;\n            max-width: 550px;\n            justify-content: center !important;\n            flex-direction: row;\n            margin: 0 auto;\n           }\n           .glo-slider__wrap{\n            display: flex !important;\n            flex-wrap: nowrap;\n            flex-direction: row;\n            justify-content: flex-start;\n            transition: transform 0.5s !important;\n            will-change: transform !important;\n            align-content: flex-start;\n            align-items: baseline;\n           }\n           .glo-slider__item{\n               display: flex !important;\n               flex-direction: column;\n               margin: 10px;\n               padding: 10px;\n               align-items: center !important;\n                justify-content: center !important;\n                flex: 0 0 ${this.options.withSlide}% !important;\n                margin: auto 0 !important;\n                max-width: 100% !important;\n           }\n       `,document.head.append(t)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.withSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.withSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev",this.next.className="glo-slider__next",this.main.append(this.prev),this.main.append(this.next);const t=document.createElement("style");t.textContent="\n       .glo-slider__prev,\n       .glo-slider__next{\n           margin: 0 10px;\n           border: 20px solid transparent;\n           background: transparent;\n           position: absolute;\n       }\n       .glo-slider__next {\n           border-left-color: #19B5FE;\n           right: -40px;\n           top: 20%;\n       }\n       .glo-slider__prev {\n           border-right-color: #19B5FE;\n           left: -40px;\n           top: 20%;\n       }\n       .glo-slider__prev:hover,\n       .glo-slider__next:hover,\n       .glo-slider__prev:focus,\n       .glo-slider__next:focus {\n           background: transparent;\n           outline: transparent;\n       },\n       ",document.head.append(t)}responseInit(){const t=this.slidesToShow,e=this.responsive.map((t=>t.breakpoint)),n=Math.max(...e),i=()=>{const i=document.documentElement.clientWidth;if(i<n)for(let t=0;t<e.length;t++)i<e[t]&&(this.slidesToShow=this.responsive[t].slidesToShow,this.options.withSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.withSlide=Math.floor(100/this.slidesToShow),this.addStyle()};i(),window.addEventListener("resize",i)}}class e{constructor({main:t,wrap:e,next:n,prev:i,infinity:s=!1,position:o=0,slidesToShow:r=4,responsive:l=[]}){this.main=document.querySelector(t),this.wrap=document.querySelector(e),this.slides=document.querySelector(e).children,this.next=document.querySelector(n),this.prev=document.querySelector(i),this.slidesToShow=r,this.options={position:o,withSlide:Math.floor(100/this.slidesToShow),infinity:s,maxPosition:this.slides.length-this.slidesToShow},this.responsive=l}init(){this.addGloClass(),this.addStyle(),this.prev&&this.next||this.addArrow(),this.controlSlider(),this.responsive&&this.responseInit()}addGloClass(){this.main.classList.add("glo-slider-2"),this.wrap.classList.add("glo-slider__wrap-2");for(const t of this.slides)t.classList.add("glo-slider__item-2")}addStyle(){let t=document.getElementById("sliderCarusel-style-2");t||(t=document.createElement("style"),t.id="sliderCarusel-style-2"),t.textContent=`\n           .glo-slider-2 {\n            overflow: hidden !important;\n           }\n           .glo-slider__wrap-2{\n            display: flex !important;\n           }\n           .glo-slider__item-2{\n               display: flex !important;\n               flex-direction: column;\n               margin: 10px;\n               padding: 10px;\n               align-items: center !important;\n                justify-content: center !important;\n                flex: 0 0 ${this.options.withSlide}% !important;\n                margin: auto 0 !important;\n                max-width: 100% !important;\n           }\n       `,document.head.append(t)}controlSlider(){this.prev.addEventListener("click",this.prevSlider.bind(this)),this.next.addEventListener("click",this.nextSlider.bind(this))}prevSlider(){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.options.maxPosition),this.wrap.style.transform=`translateX(-${this.options.position*this.options.withSlide}%)`)}nextSlider(){(this.options.infinity||this.options.position<this.options.maxPosition)&&(++this.options.position,this.options.position>this.options.maxPosition&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*this.options.withSlide}%)`)}addArrow(){this.prev=document.createElement("button"),this.next=document.createElement("button"),this.prev.className="glo-slider__prev-2",this.next.className="glo-slider__next-2",this.main.append(this.prev),this.main.append(this.next);const t=document.createElement("style");t.textContent="\n       .glo-slider__prev-2,\n       .glo-slider__next-2{\n           margin: 0 10px;\n           border: 20px solid transparent;\n           background: transparent;\n           position: absolute;\n       }\n       .glo-slider__next-2 {\n           border-left-color: #19B5FE;\n           right: -40px;\n           top: 20%;\n       }\n       .glo-slider__prev-2 {\n           border-right-color: #19B5FE;\n           left: -40px;\n           top: 20%;\n       }\n       .glo-slider__prev-2:hover,\n       .glo-slider__next-2:hover,\n       .glo-slider__prev-2:focus,\n       .glo-slider__next-2:focus {\n           background: transparent;\n           outline: transparent;\n       },\n       ",document.head.append(t)}responseInit(){const t=this.slidesToShow,e=this.responsive.map((t=>t.breakpoint)),n=Math.max(...e),i=()=>{const i=document.documentElement.clientWidth;if(i<n)for(let t=0;t<e.length;t++)i<e[t]&&(this.slidesToShow=this.responsive[t].slidesToShow,this.options.withSlide=Math.floor(100/this.slidesToShow),this.addStyle());else this.slidesToShow=t,this.options.withSlide=Math.floor(100/this.slidesToShow),this.addStyle()};i(),window.addEventListener("resize",i)}}const n=t=>t.forEach((t=>{t.classList.add("show_block"),t.classList.remove("hidden_block")})),i=t=>{t[0].innerHTML="",t.forEach((t=>{t.classList.remove("show_block"),t.classList.add("hidden_block")}))},s=document.querySelector(".smooth-scroll"),o=t=>s.style.display=t,r=t=>{const e=document.querySelectorAll(".count_1"),n=document.querySelectorAll(".count_2"),i=document.querySelectorAll(".count_3"),s=document.querySelectorAll(".count_4"),o=()=>{const o=(new Date(t).getTime()-(new Date).getTime())/1e3,r=("0"+Math.floor(o%60)).slice(-2),l=("0"+Math.floor(o/60%60)).slice(-2),a=("0"+Math.floor(o/60/60%24)).slice(-2),d=("0"+Math.floor(o/60/60/24)).slice(-2);return e.forEach((t=>{t.lastChild.textContent=d})),n.forEach((t=>{t.lastChild.textContent=a})),i.forEach((t=>{t.lastChild.textContent=l})),s.forEach((t=>{t.lastChild.textContent=r})),o};(()=>{let t;o()>0?t=setInterval(o,1e3):(clearInterval(t),e.textContent="00",n.textContent="00",i.textContent="00",s.textContent="00")})()},l=document.getElementById("calc-type"),a=document.getElementById("calc-type-material"),d=document.getElementById("calc-input"),c=document.getElementById("calc-total");function h(t,e="+7 (___) ___-__-__"){const n=document.querySelectorAll(`input[name="${t}"]`);function i(t){const n=t.keyCode,i=e,s=i.replace(/\D/g,""),o=this.value.replace(/\D/g,"");let r=0,l=i.replace(/[_\d]/g,(t=>r<o.length?o.charAt(r++)||s.charAt(r):t));r=l.indexOf("_"),-1!=r&&(l=l.slice(0,r));let a=i.substr(0,this.value.length).replace(/_+/g,(t=>"\\d{1,"+t.length+"}")).replace(/[+()]/g,"\\$&");a=new RegExp("^"+a+"$"),(!a.test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=l),"blur"==t.type&&this.value.length<5&&(this.value="")}for(const t of n)t.addEventListener("input",i),t.addEventListener("focus",i),t.addEventListener("blur",i)}h("селектор элементов","маска, если маску не передать то будет работать стандартная +7 (___) ___-__-__");const p=document.querySelector(".overlay"),m=t=>{const e=t.parentNode.href;p.classList.add("show_block");const n=document.createElement("div"),i=document.createElement("div");n.className="sertificate-in-modal",n.innerHTML=`<img src="${e}" class="img-responsive" alt="">`,i.innerHTML='<span title="Close" class="sertificate-in-modal__close">X</span>',i.style.cssText="\n    position: absolute;\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    right: 10px;\n    top: 10px;\n    width: 30px;\n    height: 30px;\n    background: #666;\n    border-radius: 50%;\n    color: #fff;\n    cursor: pointer;\n    font-weight: 600;\n    ",n.append(i),p.append(n)};document.addEventListener("DOMContentLoaded",(()=>{const s=document.getElementById("offer"),p=document.querySelector(".overlay"),u=document.querySelector(".header-modal"),v=document.querySelector(".services-modal");new t({main:".benefits-inner",wrap:".benefits-wrap",next:".benefits__arrow--right",prev:".benefits__arrow--left",slidesToShow:3,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:3},{breakpoint:576,slidesToShow:1}]}).init(),new e({main:".services-inner",wrap:".services-wrap",next:".services__arrow--right",prev:".services__arrow--left",slidesToShow:2,infinity:!0,responsive:[{breakpoint:1024,slidesToShow:2},{breakpoint:576,slidesToShow:1}]}).init(),o("none"),document.querySelectorAll("form").forEach((t=>{t.addEventListener("submit",(e=>{e.preventDefault();const n=e.target.parentNode.querySelector(".help-block"),i=e.target.querySelector('input[name="fio"]'),s=e.target.querySelector('input[name="phone"]'),o=n.textContent;e.target.querySelectorAll("input").forEach((t=>t.addEventListener("focus",(t=>{t.target.style=""}))));const r=document.createElement("div");r.style.cssText="font-size: 1.5rem;\n                                          text-align: center;";const l=document.createElement("section");if(l.innerHTML="<div class='sk-circle-bounce'>\n                                       <div class='sk-child sk-circle-1'></div>\n                                       <div class='sk-child sk-circle-2'></div>\n                                       <div class='sk-child sk-circle-3'></div>\n                                       <div class='sk-child sk-circle-4'></div>\n                                       <div class='sk-child sk-circle-5'></div>\n                                       <div class='sk-child sk-circle-6'></div>\n                                       <div class='sk-child sk-circle-7'></div>\n                                       <div class='sk-child sk-circle-8'></div>\n                                       <div class='sk-child sk-circle-9'></div>\n                                       <div class='sk-child sk-circle-10'></div>\n                                       <div class='sk-child sk-circle-11'></div>\n                                       <div class='sk-child sk-circle-12'></div>\n                                   </div>",(()=>{let t;if(""===s.value&&""===i.value)s.style.border="1px solid red",i.style.border="1px solid red",n.textContent="",n.append(r),r.textContent="Заполните все поля!",r.style.cssText="\n                    font-size: 1.5rem;\n                    text-align: center;\n                    color: red",t=setTimeout((()=>{n.textContent=o,r.remove()}),5e3);else if(i.value.match(/[а-я a-z]{2,}/gi)){if(s.value.match(/[0-9()-]{9}/))return r.remove(),clearTimeout(t),r.style.cssText="\n                        font-size: 1.5rem;\n                        text-align: center;\n                        color: #666666",!0;s.style.border="1px solid red",n.textContent="",n.append(r),r.textContent="Ошибка в поле номер телефона!",r.style.cssText="\n                        font-size: 1.5rem;\n                        text-align: center;\n                        color: red",t=setTimeout((()=>{n.textContent=o,r.remove()}),5e3)}else i.style.border="1px solid red",n.textContent="",n.append(r),r.textContent="Ошибка в поле Ваше имя!",r.style.cssText="\n                       font-size: 1.5rem;\n                       text-align: center;\n                       color: red",t=setTimeout((()=>{n.textContent=o,r.remove()}),5e3);return!1})()){n.innerHTML="",n.append(r),r.append(l);const i=new FormData(t),s={};void 0!==localStorage.calc&&(s["calc-total"]=localStorage.calc),i.forEach(((t,e)=>s[e]=t)),console.log("body: ",s),(t=>fetch("./server.php",{method:"POST",headers:{"Content-Type":"aplication/json"},body:JSON.stringify(t)}))(s).then((t=>{if(200!==t.status)throw new Error(t.status);r.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((t=>{r.textContent="Что то пошло не так...",console.error(t)})),e.target.querySelectorAll("input").forEach((t=>t.value="")),setTimeout((()=>{r.remove(),n.innerHTML="Мы гарантируем 100% конфиденциальность. Ваша информация не будет распространяться."}),5e3)}}))})),h("phone"),void 0===localStorage.startTimer?(localStorage.startTimer=((t,e)=>{const n=new Date(t);return n.setDate(n.getDate()+3),n})(new Date),r(localStorage.startTimer)):r(localStorage.startTimer),document.addEventListener("click",(t=>{const e=t.target,s=t=>t.trim().toLocaleLowerCase();e.classList.contains("fancyboxModal")&&(t.preventDefault(),s(e.innerText)===s("ЗАКАЗАТЬ ЗВОНОК!")||s(e.innerText)===s("УЗНАТЬ СВОЮ СКИДКУ")?n([p,u]):n([p,v])),e.parentNode.classList.contains("sertificate-document")&&(t.preventDefault(),m(e)),e.classList.contains("header-modal__close")?i([p,u]):e.classList.contains("services-modal__close")&&i([p,v]),e.classList.contains("overlay")&&(i([p,u]),i([p,v])),e.classList.contains("sertificate-in-modal__close")&&i([p]),e.classList.contains("smooth-scroll__img")&&window.scrollTo({top:0,behavior:"smooth"})})),document.addEventListener("input",(t=>{t.target.closest("#calc")&&(()=>{if(Number(l.value)&&Number(a.value)&&Number(d.value)){const t=Math.floor(l.value*a.value*d.value*1e3);c.value=t,localStorage.setItem("calc",t)}})()})),window.addEventListener("mouseover",(t=>{"html"!==t.target.localName&&t.target.parentNode.classList.contains("sertificate-document")&&(t.target.style.opacity=1)})),window.addEventListener("mouseout",(t=>{"html"!==t.target.localName&&t.target.parentNode.classList.contains("sertificate-document")&&(t.target.style="")})),window.addEventListener("scroll",(()=>{s.getBoundingClientRect().bottom<0?window.requestAnimationFrame((()=>{o("block")})):window.requestAnimationFrame((()=>{o("none")}))}))}))})();